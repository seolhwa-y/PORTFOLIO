{"version":3,"sources":["webpack:///./src/views/sampletest/noticepop.vue","webpack:///./src/views/sampletest/noticepop.vue?6388"],"names":["id","class","_createElementVNode","width","scope","style","_hoisted_22","_hoisted_24","_createElementBlock","_hoisted_1","_hoisted_2","_toDisplayString","$props","title","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","type","name","_ctx","loginId","$event","_hoisted_9","_hoisted_10","noticeTitle","_hoisted_11","_hoisted_12","noticeContent","_hoisted_13","_hoisted_14","onChange","_cache","args","$options","selfile","_hoisted_15","_hoisted_16","innerHTML","preview","_hoisted_17","_hoisted_18","_hoisted_19","orgpreview","_hoisted_20","_hoisted_21","onClick","save","btndis","deletenoice","delshow","close","props","String","noticeNo","Number","action","data","items","ptitle","pnoticeNo","paction","mounted","loginInfo","this","$store","state","console","log","vm","params","URLSearchParams","append","axios","post","then","response","result","catch","error","alert","methods","formData","FormData","document","getElementById","resp","status","closeModal","confirm","resultMsg","event","filetag","target","files","filePath","value","filePathSplit","split","filePathLength","length","fileNameSplit","fileName","fileExt","fileSize","size","window","URL","createObjectURL","__exports__","render"],"mappings":"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","file":"js/chunk-2d0a3127.c698063e.js","sourcesContent":["<template>\n  <form id=\"noticeform\">\n    <dl class=\"layerPop layerType2\">\n      <dt>\n        <strong>{{ title }}</strong>\n      </dt>\n      <dd class=\"content\">\n        <!-- s : 여기에 내용입력 -->\n        <table class=\"row\">\n          <caption>\n            caption\n          </caption>\n          <colgroup>\n            <col width=\"30%\" />\n            <col width=\"70%\" />\n          </colgroup>\n          <tbody>\n            <tr>\n              <th scope=\"row\">\n                작성자 <span class=\"font_red\" style=\"width: 100px\">*</span>\n              </th>\n              <td style=\"width: 400px\">\n                <input\n                  type=\"text\"\n                  class=\"inputTxt p100\"\n                  name=\"loginId\"\n                  id=\"loginId\"\n                  v-model=\"loginId\"\n                />\n              </td>\n            </tr>\n            <tr>\n              <th scope=\"row\">\n                제목 <span class=\"font_red\" style=\"width: 100px\">*</span>\n              </th>\n              <td style=\"width: 400px\">\n                <input\n                  type=\"text\"\n                  class=\"inputTxt p100\"\n                  name=\"noticeTitle\"\n                  id=\"noticeTitle\"\n                  v-model=\"noticeTitle\"\n                />\n              </td>\n            </tr>\n            <tr>\n              <th scope=\"row\" style=\"width: 100px\">내용</th>\n              <td style=\"width: 400px\">\n                <textarea\n                  class=\"inputTxt p100\"\n                  name=\"noticeContent\"\n                  id=\"noticeContent\"\n                  v-model=\"noticeContent\"\n                >\n                </textarea>\n              </td>\n            </tr>\n            <tr>\n              <th scope=\"row\" style=\"width: 100px\">파일</th>\n              <td style=\"width: 400px\">\n                <input\n                  type=\"file\"\n                  id=\"regfile\"\n                  name=\"regfile\"\n                  @change=\"selfile\"\n                />\n              </td>\n            </tr>\n            <tr>\n              <th scope=\"row\" style=\"width: 100px\">미리보기</th>\n              <td style=\"width: 400px\">\n                <div v-html=\"preview\"></div>\n              </td>\n            </tr>\n            <tr>\n              <th scope=\"row\" style=\"width: 100px\">Uploaded</th>\n              <td style=\"width: 400px\">\n                <div v-html=\"orgpreview\"></div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n\n        <!-- e : 여기에 내용입력 -->\n\n        <div class=\"btn_areaC mt30\">\n          <a\n            class=\"btn btn-primary\"\n            id=\"btnUpdateNotice\"\n            name=\"btn\"\n            @click=\"save()\"\n            ><span>{{ btndis }}</span></a\n          >\n          <a\n            class=\"btn btn-danger mx-2\"\n            id=\"btnDeleteNotice\"\n            name=\"btn\"\n            v-show=\"delshow\"\n            @click=\"deletenoice()\"\n            ><span>삭제</span></a\n          >\n          <a\n            class=\"btn btn-light mx-2\"\n            id=\"btnClose\"\n            name=\"btn\"\n            @click=\"close()\"\n            ><span>취소</span></a\n          >\n        </div>\n      </dd>\n    </dl>\n  </form>\n</template>\n<script>\nimport { closeModal } from 'jenesius-vue-modal';\n\nexport default {\n  props: {\n    title: String,\n    noticeNo: Number,\n    action: String,\n  },\n  data: function () {\n    return {\n      items: [],\n      ptitle: '',\n      pnoticeNo: 0,\n      paction: '',\n      delshow: false,\n      loginId: '',\n      noticeTitle: '',\n      noticeContent: '',\n      btndis: '',\n      preview: '',\n      orgpreview: '',\n    };\n  },\n  mounted() {\n    let loginInfo = this.$store.state.loginInfo;\n\n    console.log(loginInfo.loginId);\n\n    this.ptitle = this.title;\n    this.pnoticeNo = this.noticeNo;\n    this.paction = this.action;\n\n    if (this.paction == 'I') {\n      this.delshow = false;\n      this.loginId = loginInfo.loginId;\n      this.btndis = '저장';\n    } else {\n      this.delshow = true;\n      this.btndis = '수정';\n\n      let vm = this;\n\n      let params = new URLSearchParams();\n      params.append('noticeNo', this.pnoticeNo);\n\n      this.axios\n        .post('/system/detailNotice.do', params)\n        .then(function (response) {\n          //console.log(response);\n          //console.log(response.data.notice);\n          //console.log(response.data.noticeCnt);\n          vm.loginId = response.data.result.loginId;\n          vm.noticeTitle = response.data.result.noticeTitle;\n          vm.noticeContent = response.data.result.noticeContent;\n        })\n        .catch(function (error) {\n          alert('에러! API 요청에 오류가 있습니다. ' + error);\n        });\n    }\n  },\n  methods: {\n    save: function () {\n      let formData = new FormData(document.getElementById('noticeform'));\n      formData.append('action', this.paction);\n      this.axios\n        .post('/system/noticeSave.do', formData)\n        .then((resp) => {\n          if (resp.status == 200) {\n            alert('정상적으로 등록되었습니다');\n            closeModal();\n          }\n        })\n        .catch(function (error) {\n          alert('에러! API 요청에 오류가 있습니다. ' + error);\n        });\n\n      //let vm = this;\n      // { action:\"I\", noticeNo: \"11\", loginId : \"aaa\", noticeTitle : \"sss\", noticeContent : \"ddd\"}\n      /* \n      let params = new URLSearchParams();\n      params.append('action', this.paction);\n      params.append('noticeNo', this.pnoticeNo);\n      params.append('loginId', this.loginId);\n      params.append('noticeTitle', this.noticeTitle);\n      params.append('noticeContent', this.noticeContent);\n\n      this.axios\n        .post('/system/noticeSave.do', params)\n        .then(function (response) {\n          console.log(response);\n          if (\n            response.data.resultMsg == 'SUCCESS' ||\n            response.data.resultMsg == 'UPDATED'\n          ) {\n            alert('저장 되었습니다.');\n            closeModal();\n          }\n\n          //console.log(response.data.notice);\n          //console.log(response.data.noticeCnt);\n          //vm.loginId = response.data.result.loginId;\n          //vm.noticeTitle = response.data.result.noticeTitle;\n          //vm.noticeContent = response.data.result.noticeContent;\n        })\n        .catch(function (error) {\n          alert('에러! API 요청에 오류가 있습니다. ' + error);\n        });\n\n         */\n    },\n    deletenoice: function () {\n      //let vm = this;\n      // { action:\"I\", noticeNo: \"11\", loginId : \"aaa\", noticeTitle : \"sss\", noticeContent : \"ddd\"}\n\n      if (confirm('정말 삭제하겠습니까? \\n 삭제시 복구불가합니다.')) {\n        let params = new URLSearchParams();\n        params.append('noticeNo', this.pnoticeNo);\n        params.append('action', 'D');\n\n        this.axios\n          .post('/system/noticeDelete.do', params)\n          .then(function (response) {\n            console.log(response);\n\n            if (response.data.result == 'SUCCESS') {\n              alert(response.data.resultMsg);\n              closeModal();\n            } else {\n              alert('실패 했습니다.');\n            }\n          })\n          .catch(function (error) {\n            alert('에러! API 요청에 오류가 있습니다. ' + error);\n          });\n      }\n    },\n    close: function () {\n      closeModal();\n    },\n    selfile: function (event) {\n      let filetag = event.target;\n\n      if (filetag.files[0]) {\n        //alert(window.URL.createObjectURL(image.files[0]));\n        //this.imgpath = window.URL.createObjectURL(image.files[0]);\n        let filePath = filetag.value;\n\n        //전체경로를 \\ 나눔.\n        let filePathSplit = filePath.split('\\\\');\n\n        //전체경로를 \\로 나눈 길이.\n        let filePathLength = filePathSplit.length;\n        //마지막 경로를 .으로 나눔.\n        let fileNameSplit = filePathSplit[filePathLength - 1].split('.');\n        //파일명 : .으로 나눈 앞부분\n        let fileName = fileNameSplit[0];\n        //파일 확장자 : .으로 나눈 뒷부분\n        let fileExt = fileNameSplit[1];\n        //파일 크기\n        let fileSize = filetag.files[0].size;\n\n        console.log('파일 경로 : ' + filePath);\n        console.log('파일명 : ' + fileName);\n        console.log('파일 확장자 : ' + fileExt);\n        console.log('파일 크기 : ' + fileSize);\n\n        if (\n          fileExt == 'jpg' ||\n          fileExt == 'png' ||\n          fileExt == 'gif' ||\n          fileExt == 'jpeg'\n        ) {\n          this.preview =\n            \"<img src='\" +\n            window.URL.createObjectURL(filetag.files[0]) +\n            \"'  style='width: 100px; height: 100px;' />\";\n        } else {\n          this.preview = '';\n        }\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./noticepop.vue?vue&type=template&id=4146058e\"\nimport script from \"./noticepop.vue?vue&type=script&lang=js\"\nexport * from \"./noticepop.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/shy/vue-workspace/diary2/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}